from pyrogram import Client, filters
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton
from pyrogram.enums import ChatType

# Command categories and their UI buttons
def get_cmds_buttons():
    return InlineKeyboardMarkup([
        [InlineKeyboardButton("ğŸ¤– Ê™Ê€á´€ÉªÉ´", callback_data="cmd_ai")],
        [InlineKeyboardButton("ğŸµ á´á´œêœ±Éªá´„", callback_data="cmd_music"),
         InlineKeyboardButton("ğŸ—‚ï¸ á´¢Éªá´˜", callback_data="cmd_zip")],
        [InlineKeyboardButton("ğŸ§  á´á´á´á´…", callback_data="cmd_mood"),
         InlineKeyboardButton("ğŸ›¡ï¸ êœ±á´‡á´„á´œÊ€Éªá´›Ê", callback_data="cmd_nsfw")],
        [InlineKeyboardButton("ğŸ›ï¸ á´„á´á´á´˜á´€Ê€á´‡", callback_data="cmd_prod"),
         InlineKeyboardButton("ğŸ” á´…á´á´¡É´ÊŸá´á´€á´…", callback_data="cmd_down")],
        [InlineKeyboardButton("ğŸ® É¢á´€á´á´‡êœ±", callback_data="cmd_game"),
         InlineKeyboardButton("ğŸ“Š êœ±á´›á´€á´›êœ±", callback_data="cmd_stats")],
        [InlineKeyboardButton("ğŸ“ êœ±á´›á´œá´…Ê", callback_data="cmd_study"),
         InlineKeyboardButton("ğŸ—£ï¸ á´ á´Éªá´„á´‡", callback_data="cmd_voice")],
        [InlineKeyboardButton("ğŸ‘¨â€ğŸ’» á´„á´á´…ÉªÉ´É¢", callback_data="cmd_code"),
         InlineKeyboardButton("ğŸ­ êœ°á´œÉ´", callback_data="cmd_fun")],
        [InlineKeyboardButton("ğŸ‘® á´€á´…á´ÉªÉ´", callback_data="cmd_admin")],
    ])

# Category titles
title_fonts = {
    "ai": "ğŸ¤– <b><u>Ê™Ê€á´€ÉªÉ´êœ± + á´€Éª á´„Êœá´€á´›</u></b>",
    "music": "ğŸµ <b><u>á´á´œêœ±Éªá´„ & á´˜ÊŸá´€ÊÊŸÉªêœ±á´›</u></b>",
    "zip": "ğŸ—‚ï¸ <b><u>á´¢Éªá´˜ / á´œÉ´á´¢Éªá´˜ á´›á´á´ÊŸêœ±</u></b>",
    "mood": "ğŸ§  <b><u>á´á´á´á´… + á´˜á´‡Ê€êœ±á´É´á´€ÊŸÉªá´›Ê</u></b>",
    "nsfw": "ğŸ›¡ï¸ <b><u>êœ±á´‡á´„á´œÊ€Éªá´›Ê / êœ°ÉªÊŸá´›á´‡Ê€êœ±</u></b>",
    "prod": "ğŸ›ï¸ <b><u>á´˜Ê€á´á´…á´œá´„á´› á´„á´á´á´˜á´€Ê€á´‡</u></b>",
    "down": "ğŸ” <b><u>á´á´‡á´…Éªá´€ á´…á´á´¡É´ÊŸá´á´€á´…á´‡Ê€êœ±</u></b>",
    "game": "ğŸ® <b><u>É¢á´€á´á´‡êœ± & Ê™á´€á´›á´›ÊŸá´‡êœ±</u></b>",
    "stats": "ğŸ“Š <b><u>á´œêœ±á´‡Ê€ êœ±á´›á´€á´›êœ± + á´…á´€á´›á´€</u></b>",
    "study": "ğŸ“ <b><u>êœ±á´›á´œá´…Ê / É´á´á´›á´‡êœ±</u></b>",
    "voice": "ğŸ—£ï¸ <b><u>á´ á´Éªá´„á´‡ á´›á´á´ÊŸêœ±</u></b>",
    "code": "ğŸ‘¨â€ğŸ’» <b><u>á´„á´á´…ÉªÉ´É¢ + á´…á´á´„êœ±</u></b>",
    "fun": "ğŸ­ <b><u>êœ°á´œÉ´ + Ê€á´‡á´€á´„á´›Éªá´É´êœ±</u></b>",
    "admin": "ğŸ‘® <b><u>á´€á´…á´ÉªÉ´ á´˜á´€É´á´‡ÊŸ</u></b>"
}

# Command sets
cmd_descriptions = {
    "cmd_ai": """
/Êœá´‡ÊŸÊŸá´ - á´¡á´€á´‹á´‡ á´œá´˜ á´€Éª  
/Ê™Ê€á´€ÉªÉ´ - êœ±á´¡Éªá´›á´„Êœ á´€Éª Ê™Ê€á´€ÉªÉ´  
/ÊŸá´€É´É¢ - á´€á´œá´›á´ Ê€á´‡á´˜ÊŸÊ ÊŸá´€É´É¢  
/á´„Êœá´€á´› - êœ±á´á´€Ê€á´› á´„á´É´á´ á´
    """,
    "cmd_music": """
/á´˜ÊŸá´€Ê - êœ±á´É´É¢ êœ±á´‡á´€Ê€á´„Êœ  
/á´˜ÊŸá´€ÊÊŸÉªêœ±á´› - á´˜Ê€Éªá´ á´€á´›á´‡ ÊŸÉªêœ±á´›  
/á´ á´˜ÊŸá´€Ê - á´ Éªá´…á´‡á´ êœ±á´›Ê€á´‡á´€á´  
/êœ±á´›á´á´˜ - êœ±á´›á´á´˜ á´˜ÊŸá´€Ê
    """,
    "cmd_zip": """
/á´¢Éªá´˜ - êœ°ÉªÊŸá´‡ á´¢Éªá´˜  
/á´¢Éªá´˜_á´˜á´¡á´… - á´˜á´€êœ±êœ±á´¡á´Ê€á´… á´¢Éªá´˜  
/á´œÉ´á´¢Éªá´˜ - á´‡xá´›Ê€á´€á´„á´›  
/É¢á´‡É´á´˜á´¡á´… - êœ±á´›Ê€á´É´É¢ á´˜á´€êœ±êœ±
    """,
    "cmd_mood": """
/á´á´á´á´… - êœ±á´‡á´› á´á´á´á´…  
/á´á´á´…á´‡ - êœ±á´‡ÊŸá´‡á´„á´› á´˜á´‡Ê€êœ±á´É´á´€  
/Ê€á´‡êœ±á´‡á´› - Ê€á´‡êœ±á´‡á´› á´á´á´á´…
    """,
    "cmd_nsfw": """
/êœ±á´„á´€É´ - É´êœ±êœ°á´¡ êœ±á´„á´€É´  
/É´êœ±êœ°á´¡á´É´ - á´€á´œá´›á´ êœ±á´„á´€É´  
/É´êœ±êœ°á´¡á´êœ°êœ° - á´›á´œÊ€É´ á´êœ°êœ° êœ±á´„á´€É´
    """,
    "cmd_prod": """
/á´„á´á´á´˜á´€Ê€á´‡ - êœ±Êœá´á´˜ á´„á´á´á´˜á´€Ê€á´‡  
/á´˜Ê€Éªá´„á´‡ - êœ°ÉªÉ´á´… á´˜Ê€Éªá´„á´‡  
/Ê€á´‡á´ Éªá´‡á´¡ - É¢á´‡á´› á´œêœ±á´‡Ê€ á´ Éªá´‡á´¡êœ±
    """,
    "cmd_down": """
/Êá´› - Êá´› á´…ÊŸ  
/ÉªÉ´êœ±á´›á´€ - Ê€á´‡á´‡ÊŸ á´…ÊŸ  
/êœ±á´É´É¢ - êœ°á´€êœ±á´› á´€á´œá´…Éªá´ á´…ÊŸ
    """,
    "cmd_game": """
/á´¡á´Ê€á´…É¢á´€á´á´‡ - Ê™á´€á´›á´›ÊŸá´‡  
/êœ±á´„Ê€á´€á´Ê™ÊŸá´‡ - á´¡á´Ê€á´… êœ±á´„Ê€á´€á´Ê™ÊŸá´‡  
/Êœá´€É´É¢á´á´€É´ - á´„ÊŸá´œá´‡ É¢á´€á´á´‡  
/É¢á´œá´‡êœ±êœ± - É¢á´œá´‡êœ±êœ± á´›Êœá´‡ á´¡á´Ê€á´…
    """,
    "cmd_stats": """
/êœ±á´›á´€á´›êœ± - á´œêœ±á´‡Ê€ êœ±á´›á´€á´›  
/á´›á´á´˜ - á´›á´á´˜ á´œêœ±á´‡Ê€êœ±  
/á´…á´êœ± - Êá´á´œÊ€ á´…á´êœ±  
/É¢Ê€á´á´œá´˜ - á´€á´„á´›Éªá´ á´‡ É¢Ê€á´˜êœ±
    """,
    "cmd_study": """
/É´á´á´›á´‡ - êœ±á´€á´ á´‡ É´á´á´›á´‡  
/É´á´á´›á´‡êœ± - á´€ÊŸÊŸ êœ±á´€á´ á´‡á´…  
/á´…á´‡ÊŸá´‡á´›á´‡_É´á´á´›á´‡ - Ê€á´‡á´á´á´ á´‡  
/Ê€á´‡á´ÉªÉ´á´… - á´›Éªá´á´‡ Ê€á´‡á´ÉªÉ´á´…
    """,
    "cmd_voice": """
/á´ á´Éªá´„á´‡ - á´ á´Éªá´„á´‡ á´›á´ á´›á´‡xá´›  
/êœ±á´˜á´‡á´€á´‹ - á´›á´‡xá´› á´›á´ êœ±á´˜á´‡á´‡á´„Êœ
    """,
    "cmd_code": """
/á´„á´á´…á´‡ - É¢á´‡É´á´‡Ê€á´€á´›á´‡  
/á´˜Ê - á´˜Êá´›Êœá´É´ á´‡xá´‡á´„  
/Êœá´›á´ÊŸ - á´¡á´‡Ê™ á´„á´á´…á´‡  
/á´…á´á´„ - á´„Ê€á´‡á´€á´›á´‡ á´˜á´…êœ°
    """,
    "cmd_fun": """
/êœ±Êœá´€Êá´€Ê€Éª - ÊŸá´á´ á´‡ êœ±Êœá´€Êá´€Ê€Éª  
/á´Šá´á´‹á´‡ - êœ°á´œÉ´É´Ê ÊŸÉªÉ´á´‡êœ±  
/Ê€á´‡á´€á´„á´› - Ê™á´á´› Ê€á´‡á´€á´„á´›êœ±  
/á´€á´œá´›á´ - á´€á´œá´›á´ Ê€á´‡á´˜ÊŸÊ
    """,
    "cmd_admin": """
/Ê™á´€É´, /á´á´œá´›á´‡, /á´‹Éªá´„á´‹ - á´œêœ±á´‡Ê€ á´á´€É´á´€É¢á´‡  
/á´„ÊŸá´‡á´€É´ - á´˜á´œÊ€É¢á´‡ á´„Êœá´€á´›  
/á´›á´€É¢á´€ÊŸÊŸ - á´€ÊŸÊŸ á´›á´€É¢  
/É¢Ê™á´€É´á´€ÊŸÊŸ - É¢ÊŸá´Ê™á´€ÊŸ Ê™á´€É´
    """
}

# /cmds handler
@Client.on_message(filters.command("cmds") & (filters.private | filters.group))
async def show_cmds(client, message: Message):
    await message.reply_text(
        "ğŸ“œ <b>á´¡á´‡ÊŸá´„á´á´á´‡ á´›á´ ÉªÉ´êœ°ÉªÉ´Éªá´›Ê Ê™á´á´› á´„á´á´á´á´€É´á´… á´˜á´€É´á´‡ÊŸ</b>\ná´„ÊŸÉªá´„á´‹ á´€ á´„á´€á´›á´‡É¢á´Ê€Ê Ê™á´‡ÊŸá´á´¡ â¬‡ï¸",
        reply_markup=get_cmds_buttons(),
        parse_mode="html"
    )

# Button callback
@Client.on_callback_query(filters.regex("cmd_"))
async def cmds_callback(client, callback_query):
    data = callback_query.data
    key = data.replace("cmd_", "")
    title = title_fonts.get(key, "ğŸ“š á´„á´á´á´á´€É´á´…êœ±")
    desc = cmd_descriptions.get(data, "No commands found.")
    await callback_query.message.edit_text(
    formatted_text,
    parse_mode="html",  # âœ… lowercase string hona chahiye
    reply_markup=your_markup
)